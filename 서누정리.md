# chapter 7. 함수

## 7.1 함수의 작성과 사용

### 들어가기

1. 표준 라이브러리 함수: 미리 약속하고 프로그램에서 바로 사용할 수 있게 구현
   printf나 scanf 함수는 모든 예제에 있던 stdio.h 헤더 파일에 포함되어 있음.

2. 표준 라이브러리 외의 함수 이용: 함수 정의 -> 함수 호출 -> 함수 선언

- 함수 정의: 실제 코드를 만드는 것. 기능 구현
- 함수 호출: 함수 호출을 해야지 함수를 사용할 수 있음
- 함수 선언: 프로그램 상단에 어떤 함수를 사용할 것이라고 컴파일러에서 정보를 주는 역할
  서

### 함수 정의

`반환형 함수명(매개변수)`

1. 함수명 : 함수의 기능에 맞는 이름은 무엇인가?
2. 매개변수 : 함수가 기능을 수행하는 데 필요한 데이터는?
3. 반환형 : 함수가 수행된 후의 결과는 무엇인가?

Tip) 함수 속 변수명
컴파일러는 변수명의 사용 범위를 선언한 블록 `내부`로 제한한다.
-> 함수 안에서만 사용하는 변수명은 다른 함수의 변수명과 같을 수 있다.

### 함수 호출과 반환

#### 함수 호출

실행순서는 함수호출이 우선이다.

컴파일러는 함수를 호출할 때, 반환값을 저장할 공간을 미리 준비해둔다.
컴파일러가 별도로 확보하는 공간이며 계속 사용할 수는 없다.
대신에 저장된 반환값을 대입 연산으로 다른 변수에 복사하거나 수식에 바로 사용하는 것은 가능.

`함수의 반환값을 수식의 일부로 사용할 수 있다`

#### 함수 반환

역할: 새로 만든 함수를 인식할 수 있도록 알리는
#include <stdio.h>
다음에 새로 만든 함수1, 2, 3 적는다.

```
int sum(int x, int y);
or
int sum(int, int); //매개변수 이름을 생략한 형태
```

##### 함수 정의가 있는데, 함수 선언이 필요한 이유?

- 이유1) 함수 선언에서 반환값의 형태를 확인합니다.
  컴파일할 때 함수를 호출한 자리에 반환값과 같은 형태의 저장 공간을 준비한다.
  따라서, 함수를 호출하기 전에 선언을 통해 반환형을 미리 컴파일러에 알릴 필요가 있다.

  main함수 앞에 sum함수를 정의하면 함수 정의에 원형이 포함되므로 따로 함수를 선언할 필요없다.

  프로그램은 항상 main함수부터 시작하여, 그 이후에는 호출 순서에 따라 실행되기 때문이다.

  함수 선언이 없으면 함수 정으는 항상 함수 호출 이전에 있어야 한다.
  대게, 필요한 함수를 main 함수 밑에 차례로 만들고, main 함수 앞에는 모든 함수를 선언하여 함수의 종류와 원형을 한눈에 파악하고 자유롭게 호출할 수 있도록 작성하는게 좋다.

- 이유2) 함수의 호출 형식에 문제가 없는지 검사합니다.
  함수 선언문에는 매개변수의 개수와 형태에 대한 정보가 있으므로 호출할 때 정확한 값을 주는지 검사할 수 있다.
  예를 들어) 정수 2갱ㄴ데 인수를 실수를 주고 호출하면 컴파일 단계에서 확인하고 경고 메시지로 문제점을 알려준다.
  인

## 7.2 여러 가지 함수 유형

int main(void)
반환형 함수명(매개변수)

### 매개변수가 없는 함수

1. 활용 예: 입력값을 출력 or '-'을 여러개를 단순 출력
2. 작성법: int main(void) = int main()

### 반환값이 없는 함수

`작성법: void 함수명(매개변수)`

반환값이 없을 때에는, return ; 을 사용 or return 문 자체를 생략하기도!
return 문이 없어도 함수의 코드를 모두 수행하면, 호출한 곳으로 자동으로 돌아간다.

만약, 중간에 호출한 곳으로 돌아가 함수를 끝내고 싶다면, 다음과 같이 함수 중간에 return 문을 사용한다.
이떄에도 return 문만 단독으로 사용한다.

```
void print_char(char ch, int count)
{
    int i;

    if (count > 10) return;  //여기서 return하면 함수의 실행을 종료한다.
    for (i = 0; i < count; i++ )
    {
        printf("%c", ch);
    }
    return ;
}
```

Tip) 반환형이 void인 함수는 컴파일러가 반환값이 없다고 가정하여 호출한 위치에 반환값을 저장할 공간을 준비한다.
따라서 return 문에 `값`을 사용하면 컴파일러는 경고 메세지로 알려준다.

### 매개변수와 반환값이 모두 없는 함수

`작성법: void 함수명(void)`

### 재귀호출 함수

- 보통의 함수: 다른 함수를 호출
- 재귀함수: 자기 자신을 호출

```
void fruit(void)
{
...
fruit();
}

```

Tip) 실행결과는 많은 apple을 출력하다가 그만둔다.
-> 왜 무한으로 apple을 출력하지 않고 종료할까?
함수는 호출만으로도 일정 크기의 메모리를 사용하므로 무한 호출하면 프로그램 하나가 쓸 수 있는 메모리(해당 프로세스에 할당된 스택 메모리)를 모두 사용하여 강제 종료됩니다.

### 재귀호출과 반복문의 차이점

반복문은 최조 호출한 곳으로 돌아간다.
재귀함수는 직전에 호출한 곳으로 돌아간다.

[재귀함수+스택](https://bentist.tistory.com/57)

[스택구조](https://techblog-history-younghunjo1.tistory.com/399)

재귀문제 [백준 추천 문제](https://godcode.tistory.com/18)
